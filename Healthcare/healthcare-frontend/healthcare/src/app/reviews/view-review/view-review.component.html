<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.css" />
</head>
<hr>
<div class="score_container">
    <div class="score-info">
        <div style="font-size: 2.5rem; margin-bottom: 10px;">
            {{scoreRate}}
        </div>
        <div>
            <ng-template #t let-fill="fill">
                <i class="bi bi-star-fill score" >
                    <i *ngIf="fill > 0" class="bi-star-fill filled-score score" [style.width.%]="fill" ></i>
                </i>
            </ng-template>       
            <ngb-rating [(rate)]="scoreRate" [starTemplate]="t" [readonly]="true" [max]="5"></ngb-rating>
        </div>
        ({{reviewsNum}})
    </div>
    <div class="bar">
        <div class="progress" style="height: 8px; margin-bottom: 8px;">
            <div id="fivestar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <br>
        <div class="progress" style="height: 8px; margin-bottom: 8px;">
            <div id="fourstar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <br>
        <div class="progress" style="height: 8px; margin-bottom: 8px;">
            <div id="threestar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <br>
        <div class="progress" style="height: 8px; margin-bottom: 8px;">
            <div id="twostar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <br>
        <div class="progress" style="height: 8px; margin-bottom: 8px;">
            <div id="onestar" class="progress-bar bg-warning" role="progressbar" style="width: 0%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>
</div>
<hr>
<div class="container">
    <h3 [hidden]="!zReviews">Sorry this doctor has not been reviewed yet</h3>   
    <div class="mb-3">
        <div class="card-group"> 
            <div *ngFor="let review of allReviewsData">            
                <div class="card" style="width:400px; margin-right: 30px; margin-bottom: 30px;" >
                    <div class="card-title">
                        <ngb-rating [rate]="review.rating">  
                            <ng-template let-fill="fill" let-index="index">
                                <i class="bi bi-star{{fill === 100 ? '-fill' : ''}}" [class.filled]="   fill === 100" [class.low]="index < 2"></i>
                            </ng-template>
                        </ngb-rating>
                        <pre><b>{{ review.rating }} out of 5 stars</b></pre>
                    </div>
                    <div class="card-body">
                        <p class="card-text"> {{review.comment}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<hr />