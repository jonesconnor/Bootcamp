<main>
  <div class="profile__container">
    <!-- SideNav component -->
    <app-side-nav></app-side-nav>

    <section class="content">
      <div class="profile__wrapper">
        <h2 class="profile__title">{{ pageTitle }}</h2>
        <form
          class="profile__form"
          #profileForm="ngForm"
          (ngSubmit)="handleSaveChanges(profileForm)"
        >
          <div>
            <input type="hidden" name="id" [(ngModel)]="updatedProvider.id" />
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>First Name</mat-label>
              <input
                matInput
                placeholder="Enter your first name"
                required
                name="firstName"
                [(ngModel)]="updatedProvider.firstName"
                #firstName="ngModel"
              />
              <mat-icon matSuffix>person</mat-icon>
              <mat-error
                *ngIf="
                  firstName.invalid && (firstName.dirty || firstName.touched)
                "
              >
                Please enter a first name
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Last Name</mat-label>
              <input
                matInput
                placeholder="Enter your last name"
                required
                name="lastName"
                [(ngModel)]="updatedProvider.lastName"
                #lastName="ngModel"
              />
              <mat-icon matSuffix>person</mat-icon>
              <mat-error
                *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
              >
                Please enter a last name
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                [email]="true"
                placeholder="Enter your email"
                required
                readonly
                name="email"
                [(ngModel)]="updatedProvider.email"
                #email="ngModel"
              />
              <mat-icon matSuffix>mail</mat-icon>
              <mat-error
                *ngIf="email.invalid && (email.dirty || email.touched)"
              >
                <span *ngIf="email.errors && email.errors['required']">
                  Please enter an email
                </span>
                <span *ngIf="email.errors && email.errors['email']">
                  Please enter a valid email
                </span>
              </mat-error>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Phone Number</mat-label>
              <input
                matInput
                placeholder="Enter your phone number"
                required
                name="phoneNumber"
                [(ngModel)]="updatedProvider.phoneNumber"
              />
              <mat-icon matSuffix>phone</mat-icon>
            </mat-form-field>
          </div>
          <div class="row-100">
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Address</mat-label>
              <textarea
                matInput
                placeholder="Enter your address"
                required
                name="location"
                [(ngModel)]="updatedProvider.location"
              ></textarea>
              <mat-icon matSuffix>local_shipping</mat-icon>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Specialization</mat-label>
              <input
                matInput
                placeholder="Enter your specialization"
                required
                name="specialization"
                [(ngModel)]="updatedProvider.specialization"
              />
              <mat-icon matSuffix>badge</mat-icon>
            </mat-form-field>
          </div>
          <div>
            <mat-form-field appearance="fill" class="form-field">
              <mat-label>Fee</mat-label>
              <input
                matInput
                type="number"
                min="0.00"
                max="10000.00"
                step="0.01"
                placeholder="Enter your fee"
                required
                name="fee"
                [(ngModel)]="updatedProvider.fee"
              />
              <mat-icon matSuffix>payments</mat-icon>
            </mat-form-field>
          </div>
          <div class="row-100">
            <button
              type="submit"
              mat-raised-button
              color="primary"
              class="btn-save"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </section>
  </div>
</main>
